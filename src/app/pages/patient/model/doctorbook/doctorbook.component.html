<div
  class="modal fade bd-example-modal-lg"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Book Appointment (Dr. Stephan Edward)
        </h5>
      </div>
      <div class="modal-body">
        <span>Choose a date</span>
        <div class="date-card mt-2">
          <div class="mb-3 selector">
            <select id="monthSelect" class="form-select" [(ngModel)]="selectedMonth">
              <option value="" disabled selected>Month</option>
              <option *ngFor="let month of months" [value]="month">{{ month }}</option>
            </select>
            <select id="yearSelect" class="form-select" [(ngModel)]="selectedYear">
              <option value="" disabled selected>Year</option>
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
          <div class="calendar" (click)="onDateSelect($event)">
            <div class="row">
              <div class="col text-center">M</div>
              <div class="col text-center">Tu</div>
              <div class="col text-center">W</div>
              <div class="col text-center">Th</div>
              <div class="col text-center">F</div>
              <div class="col text-center">Sa</div>
              <div class="col text-center">Su</div>
            </div>
            <div class="row">
              <div class="col text-center text-muted">29</div>
              <div class="col text-center text-muted">30</div>
              <div class="col text-center text-muted">31</div>
              <div class="col text-center">1</div>
              <div class="col text-center">2</div>
              <div class="col text-center">3</div>
              <div class="col text-center">4</div>
            </div>
            <div class="row">
              <div class="col text-center">5</div>
              <div class="col text-center">6</div>
              <div class="col text-center">7</div>
              <div class="col text-center">8</div>
              <div class="col text-center">9</div>
              <div class="col text-center">10</div>
              <div class="col text-center">11</div>
            </div>
            <div class="row">
              <div class="col text-center">12</div>
              <div class="col text-center">13</div>
              <div class="col text-center">14</div>
              <div class="col text-center">15</div>
              <div class="col text-center">16</div>
              <div class="col text-center">17</div>
              <div class="col text-center">18</div>
            </div>
            <div class="row">
              <div class="col text-center">19</div>
              <div class="col text-center">20</div>
              <div class="col text-center">21</div>
              <div class="col text-center">22</div>
              <div class="col text-center">23</div>
              <div class="col text-center">24</div>
              <div class="col text-center">25</div>
            </div>
            <div class="row">
              <div class="col text-center">26</div>
              <div class="col text-center selected">27</div>
              <div class="col text-center">28</div>
              <div class="col text-center">29</div>
              <div class="col text-center">30</div>
              <div class="col text-center text-muted">1</div>
              <div class="col text-center text-muted">2</div>
            </div>
            <div class="row">
              <div class="col text-center text-muted">3</div>
              <div class="col text-center text-muted">4</div>
              <div class="col text-center text-muted">5</div>
              <div class="col text-center text-muted">6</div>
              <div class="col text-center text-muted">7</div>
              <div class="col text-center text-muted">8</div>
              <div class="col text-center text-muted">9</div>
            </div>
          </div>
          <div class="container mt-5">
            <h5>Choose Time</h5>
            <div class="time-selector" (click)="onTimeSelect($event)">
              <div class="row align-items-center mb-3">
                <div class="col-auto">
                  <strong>Morning</strong>
                </div>
                <div class="col">
                  <button class="btn btn-outline-secondary time-btn">09:00 AM</button>
                  <button class="btn btn-outline-secondary time-btn">09:30 AM</button>
                  <button class="btn btn-danger time-btn">10:00 AM</button>
                  <button class="btn btn-outline-secondary time-btn">10:30 AM</button>
                  <button class="btn btn-outline-secondary time-btn">11:00 AM</button>
                </div>
                <div class="col-auto text-right">
                  <button class="btn btn-outline-secondary nav-btn">&lt;</button>
                  <button class="btn btn-outline-secondary nav-btn">&gt;</button>
                </div>
              </div>
              <div class="row align-items-center">
                <div class="col-auto">
                  <strong>Evening</strong>
                </div>
                <div class="col">
                  <button class="btn btn-danger time-btn">02:00 PM</button>
                  <button class="btn btn-danger time-btn">02:30 PM</button>
                  <button class="btn btn-outline-secondary time-btn">03:00 PM</button>
                  <button class="btn btn-outline-secondary time-btn">03:30 PM</button>
                  <button class="btn btn-outline-secondary time-btn">04:00 PM</button>
                </div>
                <div class="col-auto text-right">
                  <button class="btn btn-outline-secondary nav-btn">&lt;</button>
                  <button class="btn btn-outline-secondary nav-btn">&gt;</button>
                </div>
              </div>
            </div>
          </div>
          <div class="container mt-5">
            <div class="row align-items-center">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="selectPatient">Select Patient</label>
                  <select class="form-control" id="selectPatient" (change)="onPatientSelect($event)">
                    <option value="" disabled selected>Select Patient</option>
                    <option *ngFor="let patient of patients" [value]="patient.phid">{{ patient.name }}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6 text-right">
                <div>
                  <strong>Appointment Details</strong>
                </div>
                <div class="appointment-details">
                  <span *ngIf="selectedDate && selectedTime || selectedPatient" class="date-time">
                    {{ selectedDate }},{{selectedMonth}} {{ selectedTime }}
                  </span>
                  <br>
                  <span *ngIf="selectedPatient" class="patient-name">
                    {{ selectedPatient.name }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button *ngIf="!isSaving" type="button" class="btn btn-primary" (click)="saveChanges()">Save changes</button>
        <mat-spinner *ngIf="isSaving" diameter="30"></mat-spinner>
      </div>
    </div>
  </div>
</div>
